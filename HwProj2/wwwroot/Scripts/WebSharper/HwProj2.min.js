(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;a=window;b=a.HwProj2=a.HwProj2||{};c=b.ModelsClient=b.ModelsClient||{};d=c.RealTaskItem=c.RealTaskItem||{};e=c.TaskItem=c.TaskItem||{};f=c.CourseItem=c.CourseItem||{};g=c.PersonItem=c.PersonItem||{};h=c.RealTasksModel=c.RealTasksModel||{};i=c.TasksModel=c.TasksModel||{};j=c.CoursesModel=c.CoursesModel||{};k=c.PeopleModel=c.PeopleModel||{};l=b.RendersClient=b.RendersClient||{};m=b.RegClient=b.RegClient||{};n=b.CommonClient=b.CommonClient||{};o=b.Templating=b.Templating||{};p=a.WebSharper;q=p&&p.UI;r=q&&q.Key;s=q&&q.Var;t=q&&q.ListModel;u=p&&p.List;v=q&&q.Doc;w=q&&q.AttrProxy;x=p&&p.Forms;y=x&&x.Bootstrap;z=y&&y.Controls;A=z&&z.Simple;B=p&&p.Concurrency;C=p&&p.Remoting;D=C&&C.AjaxRemotingProvider;E=x&&x.Form;F=a.IntelliFactory;G=F&&F.Runtime;H=x&&x.Pervasives;I=x&&x.Validation;d.Create=function(J,K){return d.New(J,K,r.Fresh());};d.New=function(J,K,L){return{Name:J,Requirement:K,Key:L};};e.Create=function(J,K,L,M,N){var O;O=r.Fresh();return e.New(J,K,L,s.Create$1(false),s.Create$1(false),M,N,O);};e.New=function(J,K,L,M,N,O,P,Q){return{Name:J,Info:K,Source:L,IsAccepted:M,IsChangesRequired:N,Date:O,Course:P,Key:Q};};f.Create=function(J,K){return f.New(J,K,r.Fresh());};f.New=function(J,K,L){return{TeacherFullName:J,GroupId:K,Key:L};};g.Create=function(J,K,L){return g.New(J,K,L,r.Fresh());};g.New=function(J,K,L,M){return{Name:J,Email:K,GitHub:L,Key:M};};h.New=function(J){return{RealTasks:J};};i.New=function(J){return{Tasks:J};};j.New=function(J){return{Courses:J};};k.New=function(J){return{People:J};};c.CreatePeopleModel=function(){return k.New(t.Create(function(J){return J.Key;},u.T.Empty));};c.CreateCoursesModel=function(){return j.New(t.Create(function(J){return J.Key;},u.T.Empty));};c.CreateTasksModel=function(){return i.New(t.Create(function(J){return J.Key;},u.T.Empty));};c.CreateRealTasksModel=function(){return h.New(t.Create(function(J){return J.Key;},u.T.Empty));};l.CoursematesList=function(J){return v.ConvertBy(J.People.key,function(K){return l.RenderCoursemates(J,K);},J.People.v);};l.CoursesList=function(J){return v.ConvertBy(J.Courses.key,function(K){return l.RenderCourses(J,K);},J.Courses.v);};l.ToDoList=function(J){return v.ConvertBy(J.Tasks.key,function(K){return l.RenderToDo(J,K);},J.Tasks.v);};l.ToCheckList=function(J){return v.ConvertBy(J.Tasks.key,function(K){return l.RenderToCheck(J,K);},J.Tasks.v);};l.TasksToAppoint=function(J){return v.ConvertBy(J.RealTasks.key,function(K){return l.RenderTasksToAppoint(J,K);},J.RealTasks.v);};l.CoursesToAppoint=function(J){return v.ConvertBy(J.Courses.key,function(K){return l.RenderCoursesToAppoint(J,K);},J.Courses.v);};l.CoursePeopleList=function(J){return v.ConvertBy(J.People.key,function(K){return l.RenderCoursemates(J,K);},J.People.v);};l.RenderCourses=function(J,K){return v.Element("div",[],[v.TextNode(K.TeacherFullName+K.GroupId)]);};l.RenderToDo$88$38=function(J,K){return function(){return function(){return K.Tasks.Remove(J);};};};l.RenderToDo=function(J,K){return v.Element("div",[],[v.Element("tr",[],[v.Element("td",[],[v.TextNode(K.Date),v.TextNode(K.Name),v.TextNode(K.Info)]),v.Element("td",[],[v.Element("button",[w.HandlerImpl("click",function(){return function(){return J.Tasks.Remove(K);};})],[v.TextNode("Upload")])])])]);};l.RenderCoursemates=function(J,K){return v.Element("div",[],[v.TextNode(K.Name)]);};l.RenderCourseStudents$71$38=function(J,K){return function(){return function(){return K.People.Remove(J);};};};l.RenderCourseStudents=function(J,K){return v.Element("div",[],[v.Element("tr",[],[v.Element("td",[],[v.TextNode(K.Name)]),v.Element("td",[],[v.Element("button",[w.HandlerImpl("click",function(){return function(){return J.People.Remove(K);};})],[v.TextNode("Remove")])])])]);};l.RenderCoursesToAppoint$59$38=function(J,K){return function(){return function(){return K.Courses.Remove(J);};};};l.RenderCoursesToAppoint=function(J,K){return v.Element("div",[],[v.Element("tr",[],[v.Element("td",[],[v.TextNode(K.TeacherFullName+K.GroupId)]),v.Element("td",[],[v.Element("button",[w.HandlerImpl("click",function(){return function(){return J.Courses.Remove(K);};})],[v.TextNode("Appoint")])])])]);};l.RenderTasksToAppoint$47$38=function(J,K){return function(){return function(){return K.RealTasks.Remove(J);};};};l.RenderTasksToAppoint=function(J,K){return v.Element("div",[],[v.Element("tr",[],[v.Element("td",[],[v.Element("h6",[],[v.TextNode(K.Name)]),v.Element("p",[],[v.TextNode(K.Requirement)])]),v.Element("td",[],[v.Element("button",[w.HandlerImpl("click",function(){return function(){return J.RealTasks.Remove(K);};})],[v.TextNode("Appoint")])])])]);};l.RenderToCheck$31$38=function(J,K){return function(){return function(){J.IsChangesRequired.Set(true);J.IsAccepted.Set(false);return K.Tasks.Remove(J);};};};l.RenderToCheck$24$38=function(J,K){return function(){return function(){J.IsAccepted.Set(true);J.IsChangesRequired.Set(false);return K.Tasks.Remove(J);};};};l.RenderToCheck=function(J,K){return v.Element("div",[],[v.Element("tr",[],[v.Element("td",[],[v.TextNode(K.Date),v.TextNode(K.Name),v.TextNode(K.Info)]),v.Element("td",[],[v.Element("button",[w.HandlerImpl("click",function(){return function(){K.IsAccepted.Set(true);K.IsChangesRequired.Set(false);return J.Tasks.Remove(K);};})],[v.TextNode("Accept")])]),v.Element("td",[],[v.Element("button",[w.HandlerImpl("click",function(){return function(){K.IsChangesRequired.Set(true);K.IsAccepted.Set(false);return J.Tasks.Remove(K);};})],[v.TextNode("Require Changes")])])])]);};m.RegUser=function(){function J(L,M,N,O,P,Q){return v.Element("form",[],[A.InputWithError("Username",L,Q.view),A.InputPasswordWithError("Password",M,Q.view),A.InputWithError("Name",N,Q.view),A.InputWithError("Email",O,Q.view),z.Radio("Teacher",u.ofArray([w.Create("class","radio"),w.Create("checked","checked")]),P,[],[w.Create("type","radio"),w.Create("name","optradio")]),z.Radio("Student",u.ofArray([w.Create("class","radio")]),s.Create$1(!P.Get()),[],[w.Create("type","radio"),w.Create("name","optradio")]),((function(R){return(z.Button())(R);}("Register"))(u.ofArray([w.Create("class","btn btn-primary")])))(function(){Q.Trigger();}),z.ShowErrors([w.Create("style","margin-top:1em;")],Q.view)]);}function K(L,M,N,O){var P;B.Start((P=null,B.Delay(function(){return B.Bind((new D.New()).Async("HwProj2:HwProj2.Server.RegisterUser:1805578801",[L,M,N,O]),function(){a.location.reload();return B.Return(null);});})),null);}return E.Render(G.Curried(J,6),E.Run(function(L){return K(L[0],L[1],L[2],L[3]);},E.WithSubmit(H.op_LessMultiplyGreater(H.op_LessMultiplyGreater(H.op_LessMultiplyGreater(H.op_LessMultiplyGreater(H.op_LessMultiplyGreater(E.Return(G.Curried(function(L,M,N,O,P){return[O,M,N,P];},5)),I.IsNotEmpty("Enter an username",E.Yield(""))),I.IsNotEmpty("Enter a password",E.Yield(""))),I.IsNotEmpty("Enter a full name",E.Yield(""))),I.IsNotEmpty("Enter an email",E.Yield(""))),E.Yield(false)))));};m.AnonUser=function(){function J(L,M,N){return v.Element("form",[],[A.InputWithError("Username",L,N.view),A.InputPasswordWithError("Password",M,N.view),((function(O){return(z.Button())(O);}("Log in"))(u.ofArray([w.Create("class","btn btn-primary")])))(function(){N.Trigger();}),z.ShowErrors([w.Create("style","margin-top:1em;")],N.view)]);}function K(L,M){var N;B.Start((N=null,B.Delay(function(){return B.Bind((new D.New()).Async("HwProj2:HwProj2.Server.LoginUser:1381500690",[L,M]),function(){a.location.reload();return B.Return(null);});})),null);}return E.Render(G.Curried3(J),E.Run(function(L){return K(L[0],L[1]);},E.WithSubmit(H.op_LessMultiplyGreater(H.op_LessMultiplyGreater(E.Return(function(L){return function(M){return[L,M];};}),I.IsNotEmpty("Enter an username",E.Yield(""))),I.IsNotEmpty("Enter a password",E.Yield(""))))));};m.LogOutUser=function(){var J;B.Start((J=null,B.Delay(function(){return B.Bind((new D.New()).Async("HwProj2:HwProj2.Server.LogoutUser:-829366048",[]),function(){a.location.href="/";return B.Return(null);});})),null);};n.FollowCourse=function(){return v.Element("div",[],[l.CoursematesList(c.CreatePeopleModel())]);};n.CoursesOverview=function(){return v.Element("div",[],[l.CoursesList((new D.New()).Sync("HwProj2:HwProj2.Server.GetAllOngoingCourses:1418547080",[]))]);};n.DoTasks=function(){return v.Element("div",[],[l.ToDoList(c.CreateTasksModel())]);};n.ManageCourse=function(){var J,K;J=c.CreatePeopleModel();K=v.Input([],s.Create$1(""));return v.Element("div",[],[v.Element("h4",[],[v.TextNode("test")]),v.Element("div",[],[l.CoursePeopleList(J)]),v.Element("div",[],[v.Element("button",[],[v.TextNode("Complete")])]),v.Element("div",[],[K]),v.Element("div",[],[v.Element("button",[],[v.TextNode("Invite")])])]);};n.CreateCourse=function(){var J,K,L,M;J=s.Create$1("");K=s.Create$1("");L=v.Input([],J);M=v.Input([],K);return v.Element("div",[],[v.Element("div",[],[L]),v.Element("div",[],[M]),v.Element("div",[],[v.Element("button",[],[v.TextNode("Create")])])]);};n.AppointTask=function(){var J,K;J=c.CreateRealTasksModel();K=c.CreateCoursesModel();return v.Element("div",[],[v.Element("div",[],[l.TasksToAppoint(J)]),v.Element("div",[],[l.CoursesToAppoint(K)]),v.Element("div",[],[v.Element("button",[],[v.TextNode("Push")])])]);};n.CreateTask=function(){var J,K,L,M;J=s.Create$1("");K=s.Create$1("");L=v.Input([],J);M=v.InputArea([],K);return v.Element("div",[],[v.Element("div",[],[L]),v.Element("div",[],[M]),v.Element("button",[],[v.TextNode("Push")])]);};n.CheckTasks=function(){return v.Element("div",[],[l.ToCheckList(c.CreateTasksModel())]);};o.MenuBarLogged$33$27=G.Curried3(function(J,K,L){return m.LogOutUser();});}());
