(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;a=window;b=a.HwProj2=a.HwProj2||{};c=b.RegClient=b.RegClient||{};d=b.CommonClient=b.CommonClient||{};e=d.RealTaskItem=d.RealTaskItem||{};f=d.TaskItem=d.TaskItem||{};g=d.CourseItem=d.CourseItem||{};h=d.PersonItem=d.PersonItem||{};i=d.RealTasksModel=d.RealTasksModel||{};j=d.TasksModel=d.TasksModel||{};k=d.CoursesModel=d.CoursesModel||{};l=d.PeopleModel=d.PeopleModel||{};m=b.Templating=b.Templating||{};n=a.WebSharper;o=n&&n.UI;p=o&&o.Doc;q=n&&n.Forms;r=q&&q.Bootstrap;s=r&&r.Controls;t=s&&s.Simple;u=n&&n.List;v=o&&o.AttrProxy;w=o&&o.Var;x=n&&n.Concurrency;y=n&&n.Remoting;z=y&&y.AjaxRemotingProvider;A=q&&q.Form;B=a.IntelliFactory;C=B&&B.Runtime;D=q&&q.Pervasives;E=q&&q.Validation;F=o&&o.Key;G=o&&o.ListModel;c.RegUser=function(){function H(J,K,L,M,N,O){return p.Element("form",[],[t.InputWithError("Username",J,O.view),t.InputPasswordWithError("Password",K,O.view),t.InputWithError("Name",L,O.view),t.InputWithError("Email",M,O.view),s.Radio("Teacher",u.ofArray([v.Create("class","radio"),v.Create("checked","checked")]),N,[],[v.Create("type","radio"),v.Create("name","optradio")]),s.Radio("Student",u.ofArray([v.Create("class","radio")]),w.Create$1(!N.Get()),[],[v.Create("type","radio"),v.Create("name","optradio")]),((function(P){return(s.Button())(P);}("Register"))(u.ofArray([v.Create("class","btn btn-primary")])))(function(){O.Trigger();}),s.ShowErrors([v.Create("style","margin-top:1em;")],O.view)]);}function I(J,K,L,M){var N;x.Start((N=null,x.Delay(function(){return x.Bind((new z.New()).Async("HwProj2:HwProj2.Server.RegisterUser:1805578801",[J,K,L,M]),function(){a.location.reload();return x.Return(null);});})),null);}return A.Render(C.Curried(H,6),A.Run(function(J){return I(J[0],J[1],J[2],J[3]);},A.WithSubmit(D.op_LessMultiplyGreater(D.op_LessMultiplyGreater(D.op_LessMultiplyGreater(D.op_LessMultiplyGreater(D.op_LessMultiplyGreater(A.Return(C.Curried(function(J,K,L,M,N){return[M,K,L,N];},5)),E.IsNotEmpty("Enter an username",A.Yield(""))),E.IsNotEmpty("Enter a password",A.Yield(""))),E.IsNotEmpty("Enter a full name",A.Yield(""))),E.IsNotEmpty("Enter an email",A.Yield(""))),A.Yield(false)))));};c.AnonUser=function(){function H(J,K,L){return p.Element("form",[],[t.InputWithError("Username",J,L.view),t.InputPasswordWithError("Password",K,L.view),((function(M){return(s.Button())(M);}("Log in"))(u.ofArray([v.Create("class","btn btn-primary")])))(function(){L.Trigger();}),s.ShowErrors([v.Create("style","margin-top:1em;")],L.view)]);}function I(J,K){var L;x.Start((L=null,x.Delay(function(){return x.Bind((new z.New()).Async("HwProj2:HwProj2.Server.LoginUser:1381500690",[J,K]),function(){a.location.reload();return x.Return(null);});})),null);}return A.Render(C.Curried3(H),A.Run(function(J){return I(J[0],J[1]);},A.WithSubmit(D.op_LessMultiplyGreater(D.op_LessMultiplyGreater(A.Return(function(J){return function(K){return[J,K];};}),E.IsNotEmpty("Enter an username",A.Yield(""))),E.IsNotEmpty("Enter a password",A.Yield(""))))));};c.LogOutUser=function(){var H;x.Start((H=null,x.Delay(function(){return x.Bind((new z.New()).Async("HwProj2:HwProj2.Server.LogoutUser:-829366048",[]),function(){a.location.href="/";return x.Return(null);});})),null);};e.Create=function(H,I){return e.New(H,I,F.Fresh());};e.New=function(H,I,J){return{Name:H,Requirement:I,Key:J};};f.Create=function(H,I,J,K,L){var M;M=F.Fresh();return f.New(H,I,J,w.Create$1(false),w.Create$1(false),K,L,M);};f.New=function(H,I,J,K,L,M,N,O){return{Name:H,Info:I,Source:J,IsAccepted:K,IsChangesRequired:L,Date:M,Course:N,Key:O};};g.Create=function(H,I){return g.New(H,I,F.Fresh());};g.New=function(H,I,J){return{Name:H,Year:I,Key:J};};h.Create=function(H,I,J){return h.New(H,I,J,F.Fresh());};h.New=function(H,I,J,K){return{Name:H,Email:I,GitHub:J,Key:K};};i.New=function(H){return{RealTasks:H};};j.New=function(H){return{Tasks:H};};k.New=function(H){return{Courses:H};};l.New=function(H){return{People:H};};d.FollowCourse=function(){return p.Element("div",[],[d.CoursematesList(d.CreatePeopleModel())]);};d.CoursesOverview=function(){return p.Element("div",[],[d.CoursesList(d.CreateCoursesModel())]);};d.DoTasks=function(){return p.Element("div",[],[d.ToDoList(d.CreateTasksModel())]);};d.ManageCourse=function(){var H,I;H=d.CreatePeopleModel();I=p.Input([],w.Create$1(""));return p.Element("div",[],[p.Element("h4",[],[p.TextNode("test")]),p.Element("div",[],[d.CoursePeopleList(H)]),p.Element("div",[],[p.Element("button",[],[p.TextNode("Complete")])]),p.Element("div",[],[I]),p.Element("div",[],[p.Element("button",[],[p.TextNode("Invite")])])]);};d.CreateCourse=function(){var H,I,J,K;H=w.Create$1("");I=w.Create$1("");J=p.Input([],H);K=p.Input([],I);return p.Element("div",[],[p.Element("div",[],[J]),p.Element("div",[],[K]),p.Element("div",[],[p.Element("button",[],[p.TextNode("Create")])])]);};d.AppointTask=function(){var H,I;H=d.CreateRealTasksModel();I=d.CreateCoursesModel();return p.Element("div",[],[p.Element("div",[],[d.TasksToAppoint(H)]),p.Element("div",[],[d.CoursesToAppoint(I)]),p.Element("div",[],[p.Element("button",[],[p.TextNode("Push")])])]);};d.CreateTask=function(){var H,I,J,K;H=w.Create$1("");I=w.Create$1("");J=p.Input([],H);K=p.InputArea([],I);return p.Element("div",[],[p.Element("div",[],[J]),p.Element("div",[],[K]),p.Element("button",[],[p.TextNode("Push")])]);};d.CheckTasks=function(){return p.Element("div",[],[d.ToCheckList(d.CreateTasksModel())]);};d.CoursematesList=function(H){return p.ConvertBy(H.People.key,function(I){return d.RenderCoursemates(H,I);},H.People.v);};d.CoursesList=function(H){return p.ConvertBy(H.Courses.key,function(I){return d.RenderCourses(H,I);},H.Courses.v);};d.ToDoList=function(H){return p.ConvertBy(H.Tasks.key,function(I){return d.RenderToDo(H,I);},H.Tasks.v);};d.ToCheckList=function(H){return p.ConvertBy(H.Tasks.key,function(I){return d.RenderToCheck(H,I);},H.Tasks.v);};d.TasksToAppoint=function(H){return p.ConvertBy(H.RealTasks.key,function(I){return d.RenderTasksToAppoint(H,I);},H.RealTasks.v);};d.CoursesToAppoint=function(H){return p.ConvertBy(H.Courses.key,function(I){return d.RenderCoursesToAppoint(H,I);},H.Courses.v);};d.CoursePeopleList=function(H){return p.ConvertBy(H.People.key,function(I){return d.RenderCoursemates(H,I);},H.People.v);};d.RenderCourses=function(H,I){return p.Element("div",[],[p.TextNode(I.Name)]);};d.RenderToDo$165$38=function(H,I){return function(){return function(){return I.Tasks.Remove(H);};};};d.RenderToDo=function(H,I){return p.Element("div",[],[p.Element("tr",[],[p.Element("td",[],[p.TextNode(I.Date),p.TextNode(I.Name),p.TextNode(I.Info)]),p.Element("td",[],[p.Element("button",[v.HandlerImpl("click",function(){return function(){return H.Tasks.Remove(I);};})],[p.TextNode("Upload")])])])]);};d.RenderCoursemates=function(H,I){return p.Element("div",[],[p.TextNode(I.Name)]);};d.RenderCourseStudents$148$38=function(H,I){return function(){return function(){return I.People.Remove(H);};};};d.RenderCourseStudents=function(H,I){return p.Element("div",[],[p.Element("tr",[],[p.Element("td",[],[p.TextNode(I.Name)]),p.Element("td",[],[p.Element("button",[v.HandlerImpl("click",function(){return function(){return H.People.Remove(I);};})],[p.TextNode("Remove")])])])]);};d.RenderCoursesToAppoint$136$38=function(H,I){return function(){return function(){return I.Courses.Remove(H);};};};d.RenderCoursesToAppoint=function(H,I){return p.Element("div",[],[p.Element("tr",[],[p.Element("td",[],[p.TextNode(I.Name)]),p.Element("td",[],[p.Element("button",[v.HandlerImpl("click",function(){return function(){return H.Courses.Remove(I);};})],[p.TextNode("Appoint")])])])]);};d.RenderTasksToAppoint$124$38=function(H,I){return function(){return function(){return I.RealTasks.Remove(H);};};};d.RenderTasksToAppoint=function(H,I){return p.Element("div",[],[p.Element("tr",[],[p.Element("td",[],[p.Element("h6",[],[p.TextNode(I.Name)]),p.Element("p",[],[p.TextNode(I.Requirement)])]),p.Element("td",[],[p.Element("button",[v.HandlerImpl("click",function(){return function(){return H.RealTasks.Remove(I);};})],[p.TextNode("Appoint")])])])]);};d.RenderToCheck$108$38=function(H,I){return function(){return function(){H.IsChangesRequired.Set(true);H.IsAccepted.Set(false);return I.Tasks.Remove(H);};};};d.RenderToCheck$101$38=function(H,I){return function(){return function(){H.IsAccepted.Set(true);H.IsChangesRequired.Set(false);return I.Tasks.Remove(H);};};};d.RenderToCheck=function(H,I){return p.Element("div",[],[p.Element("tr",[],[p.Element("td",[],[p.TextNode(I.Date),p.TextNode(I.Name),p.TextNode(I.Info)]),p.Element("td",[],[p.Element("button",[v.HandlerImpl("click",function(){return function(){I.IsAccepted.Set(true);I.IsChangesRequired.Set(false);return H.Tasks.Remove(I);};})],[p.TextNode("Accept")])]),p.Element("td",[],[p.Element("button",[v.HandlerImpl("click",function(){return function(){I.IsChangesRequired.Set(true);I.IsAccepted.Set(false);return H.Tasks.Remove(I);};})],[p.TextNode("Require Changes")])])])]);};d.CreatePeopleModel=function(){return l.New(G.Create(function(H){return H.Key;},u.T.Empty));};d.CreateCoursesModel=function(){return k.New(G.Create(function(H){return H.Key;},u.T.Empty));};d.CreateTasksModel=function(){return j.New(G.Create(function(H){return H.Key;},u.T.Empty));};d.CreateRealTasksModel=function(){return i.New(G.Create(function(H){return H.Key;},u.T.Empty));};m.MenuBarLogged$33$27=C.Curried3(function(H,I,J){return c.LogOutUser();});}());
