(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;a=window;b=a.HwProj2=a.HwProj2||{};c=b.ModelsClient=b.ModelsClient||{};d=c.RealTaskItem=c.RealTaskItem||{};e=c.TaskItem=c.TaskItem||{};f=c.CourseItem=c.CourseItem||{};g=c.PersonItem=c.PersonItem||{};h=c.RealTasksModel=c.RealTasksModel||{};i=c.TasksModel=c.TasksModel||{};j=c.CoursesModel=c.CoursesModel||{};k=c.PeopleModel=c.PeopleModel||{};l=b.RendersClient=b.RendersClient||{};m=b.RegClient=b.RegClient||{};n=b.CommonClient=b.CommonClient||{};o=b.Course=b.Course||{};p=b.Templating=b.Templating||{};q=a.WebSharper;r=q&&q.UI;s=r&&r.Key;t=r&&r.Var;u=r&&r.ListModel;v=q&&q.List;w=r&&r.Doc;x=r&&r.AttrProxy;y=q&&q.Forms;z=y&&y.Bootstrap;A=z&&z.Controls;B=A&&A.Simple;C=q&&q.Concurrency;D=q&&q.Remoting;E=D&&D.AjaxRemotingProvider;F=y&&y.Form;G=a.IntelliFactory;H=G&&G.Runtime;I=y&&y.Pervasives;J=y&&y.Validation;d.Create=function(K,L){return d.New(K,L,s.Fresh());};d.New=function(K,L,M){return{Name:K,Requirement:L,Key:M};};e.Create=function(K,L,M,N,O){var P;P=s.Fresh();return e.New(K,L,M,t.Create$1(false),t.Create$1(false),N,O,P);};e.New=function(K,L,M,N,O,P,Q,R){return{Name:K,Info:L,Source:M,IsAccepted:N,IsChangesRequired:O,Date:P,Course:Q,Key:R};};f.Create=function(K,L,M){return f.New(K,L,M,s.Fresh());};f.New=function(K,L,M,N){return{TeacherFullName:K,GroupId:L,CourseId:M,Key:N};};g.Create=function(K,L,M){return g.New(K,L,M,s.Fresh());};g.New=function(K,L,M,N){return{Name:K,Email:L,GitHub:M,Key:N};};h.New=function(K){return{RealTasks:K};};i.New=function(K){return{Tasks:K};};j.New=function(K){return{Courses:K};};k.New=function(K){return{People:K};};c.CreatePeopleModel=function(){return k.New(u.Create(function(K){return K.Key;},v.T.Empty));};c.CreateCoursesModel=function(){return j.New(u.Create(function(K){return K.Key;},v.T.Empty));};c.CreateTasksModel=function(){return i.New(u.Create(function(K){return K.Key;},v.T.Empty));};c.CreateRealTasksModel=function(){return h.New(u.Create(function(K){return K.Key;},v.T.Empty));};l.CoursematesList=function(K){return w.ConvertBy(K.People.key,function(L){return l.RenderCoursemates(K,L);},K.People.v);};l.CoursesList=function(K){return w.ConvertBy(K.Courses.key,function(L){return l.RenderCourses(K,L);},K.Courses.v);};l.ToDoList=function(K){return w.ConvertBy(K.Tasks.key,function(L){return l.RenderToDo(K,L);},K.Tasks.v);};l.ToCheckList=function(K){return w.ConvertBy(K.Tasks.key,function(L){return l.RenderToCheck(K,L);},K.Tasks.v);};l.TasksToAppoint=function(K){return w.ConvertBy(K.RealTasks.key,function(L){return l.RenderTasksToAppoint(K,L);},K.RealTasks.v);};l.CoursesToAppoint=function(K){return w.ConvertBy(K.Courses.key,function(L){return l.RenderCoursesToAppoint(K,L);},K.Courses.v);};l.CoursePeopleList=function(K){return w.ConvertBy(K.People.key,function(L){return l.RenderCoursemates(K,L);},K.People.v);};l.RenderCourses=function(K,L){return w.Element("div",[],[w.TextNode(L.TeacherFullName+L.GroupId)]);};l.RenderToDo$88$38=function(K,L){return function(){return function(){return L.Tasks.Remove(K);};};};l.RenderToDo=function(K,L){return w.Element("div",[],[w.Element("tr",[],[w.Element("td",[],[w.TextNode(L.Date),w.TextNode(L.Name),w.TextNode(L.Info)]),w.Element("td",[],[w.Element("button",[x.HandlerImpl("click",function(){return function(){return K.Tasks.Remove(L);};})],[w.TextNode("Upload")])])])]);};l.RenderCoursemates=function(K,L){return w.Element("div",[],[w.TextNode(L.Name)]);};l.RenderCourseStudents$71$38=function(K,L){return function(){return function(){return L.People.Remove(K);};};};l.RenderCourseStudents=function(K,L){return w.Element("div",[],[w.Element("tr",[],[w.Element("td",[],[w.TextNode(L.Name)]),w.Element("td",[],[w.Element("button",[x.HandlerImpl("click",function(){return function(){return K.People.Remove(L);};})],[w.TextNode("Remove")])])])]);};l.RenderCoursesToAppoint$59$38=function(K,L){return function(){return function(){return L.Courses.Remove(K);};};};l.RenderCoursesToAppoint=function(K,L){return w.Element("div",[],[w.Element("tr",[],[w.Element("td",[],[w.TextNode(L.TeacherFullName+L.GroupId)]),w.Element("td",[],[w.Element("button",[x.HandlerImpl("click",function(){return function(){return K.Courses.Remove(L);};})],[w.TextNode("Appoint")])])])]);};l.RenderTasksToAppoint$47$38=function(K,L){return function(){return function(){return L.RealTasks.Remove(K);};};};l.RenderTasksToAppoint=function(K,L){return w.Element("div",[],[w.Element("tr",[],[w.Element("td",[],[w.Element("h6",[],[w.TextNode(L.Name)]),w.Element("p",[],[w.TextNode(L.Requirement)])]),w.Element("td",[],[w.Element("button",[x.HandlerImpl("click",function(){return function(){return K.RealTasks.Remove(L);};})],[w.TextNode("Appoint")])])])]);};l.RenderToCheck$31$38=function(K,L){return function(){return function(){K.IsChangesRequired.Set(true);K.IsAccepted.Set(false);return L.Tasks.Remove(K);};};};l.RenderToCheck$24$38=function(K,L){return function(){return function(){K.IsAccepted.Set(true);K.IsChangesRequired.Set(false);return L.Tasks.Remove(K);};};};l.RenderToCheck=function(K,L){return w.Element("div",[],[w.Element("tr",[],[w.Element("td",[],[w.TextNode(L.Date),w.TextNode(L.Name),w.TextNode(L.Info)]),w.Element("td",[],[w.Element("button",[x.HandlerImpl("click",function(){return function(){L.IsAccepted.Set(true);L.IsChangesRequired.Set(false);return K.Tasks.Remove(L);};})],[w.TextNode("Accept")])]),w.Element("td",[],[w.Element("button",[x.HandlerImpl("click",function(){return function(){L.IsChangesRequired.Set(true);L.IsAccepted.Set(false);return K.Tasks.Remove(L);};})],[w.TextNode("Require Changes")])])])]);};m.RegUser=function(){function K(M,N,O,P,Q){return w.Element("form",[],[B.InputWithError("Email",M,Q.view),B.InputPasswordWithError("Password",N,Q.view),B.InputWithError("Name",O,Q.view),A.Radio("Teacher",v.ofArray([x.Create("class","radio"),x.Create("checked","checked")]),P,[],[x.Create("type","radio"),x.Create("name","optradio")]),A.Radio("Student",v.ofArray([x.Create("class","radio")]),t.Create$1(!P.Get()),[],[x.Create("type","radio"),x.Create("name","optradio")]),((function(R){return(A.Button())(R);}("Register"))(v.ofArray([x.Create("class","btn btn-primary")])))(function(){Q.Trigger();}),A.ShowErrors([x.Create("style","margin-top:1em;")],Q.view)]);}function L(M,N,O,P){var Q;C.Start((Q=null,C.Delay(function(){return C.Bind((new E.New()).Async("HwProj2:HwProj2.Server.RegisterUser:1805578801",[M,N,O,P]),function(){a.location.reload();return C.Return(null);});})),null);}return F.Render(H.Curried(K,5),F.Run(function(M){return L(M[0],M[1],M[2],M[3]);},F.WithSubmit(I.op_LessMultiplyGreater(I.op_LessMultiplyGreater(I.op_LessMultiplyGreater(I.op_LessMultiplyGreater(F.Return(H.Curried(function(M,N,O,P){return[M,N,O,P];},4)),J.IsNotEmpty("Enter an email",F.Yield(""))),J.IsNotEmpty("Enter a password",F.Yield(""))),J.IsNotEmpty("Enter a full name",F.Yield(""))),F.Yield(false)))));};m.AnonUser=function(){function K(M,N,O){return w.Element("form",[],[B.InputWithError("Email",M,O.view),B.InputPasswordWithError("Password",N,O.view),((function(P){return(A.Button())(P);}("Log in"))(v.ofArray([x.Create("class","btn btn-primary")])))(function(){O.Trigger();}),A.ShowErrors([x.Create("style","margin-top:1em;")],O.view)]);}function L(M,N){var O;C.Start((O=null,C.Delay(function(){return C.Bind((new E.New()).Async("HwProj2:HwProj2.Server.LoginUser:1381500690",[M,N]),function(){a.location.reload();return C.Return(null);});})),null);}return F.Render(H.Curried3(K),F.Run(function(M){return L(M[0],M[1]);},F.WithSubmit(I.op_LessMultiplyGreater(I.op_LessMultiplyGreater(F.Return(function(M){return function(N){return[M,N];};}),J.IsNotEmpty("Enter an email",F.Yield(""))),J.IsNotEmpty("Enter a password",F.Yield(""))))));};m.LogOutUser=function(){var K;C.Start((K=null,C.Delay(function(){return C.Bind((new E.New()).Async("HwProj2:HwProj2.Server.LogoutUser:-829366048",[]),function(){a.location.href="/";return C.Return(null);});})),null);};n.FollowCourse=function(){return w.Element("div",[],[l.CoursematesList(c.CreatePeopleModel())]);};n.DoTasks=function(){return w.Element("div",[],[l.ToDoList(c.CreateTasksModel())]);};n.ManageCourse=function(){var K,L;K=c.CreatePeopleModel();L=w.Input([],t.Create$1(""));return w.Element("div",[],[w.Element("h4",[],[w.TextNode("test")]),w.Element("div",[],[l.CoursePeopleList(K)]),w.Element("div",[],[w.Element("button",[],[w.TextNode("Complete")])]),w.Element("div",[],[L]),w.Element("div",[],[w.Element("button",[],[w.TextNode("Invite")])])]);};n.CreateCourse=function(){var K,L,M,N;K=t.Create$1("");L=t.Create$1("");M=w.Input([],K);N=w.Input([],L);return w.Element("div",[],[w.Element("div",[],[M]),w.Element("div",[],[N]),w.Element("div",[],[w.Element("button",[],[w.TextNode("Create")])])]);};n.AppointTask=function(){var K,L;K=c.CreateRealTasksModel();L=c.CreateCoursesModel();return w.Element("div",[],[w.Element("div",[],[l.TasksToAppoint(K)]),w.Element("div",[],[l.CoursesToAppoint(L)]),w.Element("div",[],[w.Element("button",[],[w.TextNode("Push")])])]);};n.CreateTask=function(){var K,L,M,N;K=t.Create$1("");L=t.Create$1("");M=w.Input([],K);N=w.InputArea([],L);return w.Element("div",[],[w.Element("div",[],[M]),w.Element("div",[],[N]),w.Element("button",[],[w.TextNode("Push")])]);};n.CheckTasks=function(){return w.Element("div",[],[l.ToCheckList(c.CreateTasksModel())]);};o.New=function(K,L){return{CourseId:K,CourseData:L};};p.MenuBarLogged$42$27=H.Curried3(function(K,L,M){return m.LogOutUser();});}());
