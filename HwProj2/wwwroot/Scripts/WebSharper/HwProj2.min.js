(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=window;b=a.HwProj2=a.HwProj2||{};c=b.Client=b.Client||{};d=b.Templating=b.Templating||{};e=a.WebSharper;f=e&&e.UI;g=f&&f.Doc;h=e&&e.Forms;i=h&&h.Bootstrap;j=i&&i.Controls;k=j&&j.Simple;l=e&&e.List;m=f&&f.AttrProxy;n=f&&f.Var;o=h&&h.Form;p=a.IntelliFactory;q=p&&p.Runtime;r=e&&e.Concurrency;s=e&&e.Remoting;t=s&&s.AjaxRemotingProvider;u=h&&h.Pervasives;v=h&&h.Validation;c.RegUser=function(){function w(x,y,z,A,B){return g.Element("form",[],[k.InputWithError("Email",x,B.view),k.InputPasswordWithError("Password",y,B.view),k.InputWithError("Name",z,B.view),j.Radio("Teacher",l.ofArray([m.Create("class","radio"),m.Create("checked","checked")]),A,[],[m.Create("type","radio"),m.Create("name","optradio")]),j.Radio("Student",l.ofArray([m.Create("class","radio")]),n.Create$1(!A.Get()),[],[m.Create("type","radio"),m.Create("name","optradio")]),((function(C){return(j.Button())(C);}("Register"))(l.ofArray([m.Create("class","btn btn-primary")])))(function(){B.Trigger();}),j.ShowErrors([m.Create("style","margin-top:1em;")],B.view)]);}return o.Render(q.Curried(w,5),o.Run(function(x){var y;r.Start((y=null,r.Delay(function(){return r.Bind((new t.New()).Async("HwProj2:HwProj2.Server.RegisterUser:163453041",[x]),function(){a.location.reload();return r.Return(null);});})),null);},o.WithSubmit(u.op_LessMultiplyGreater(u.op_LessMultiplyGreater(u.op_LessMultiplyGreater(u.op_LessMultiplyGreater(o.Return(q.Curried(function(x,y,z,A){return{Role:A,Email:x,Password:y,Fullname:z};},4)),v.IsNotEmpty("Enter an email",o.Yield(""))),v.IsNotEmpty("Enter a password",o.Yield(""))),v.IsNotEmpty("Enter a full name",o.Yield(""))),o.Yield(false)))));};c.AnonUser=function(){function w(x,y,z){return g.Element("form",[],[k.InputWithError("Username",x,z.view),k.InputPasswordWithError("Password",y,z.view),((function(A){return(j.Button())(A);}("Log in"))(l.ofArray([m.Create("class","btn btn-primary")])))(function(){z.Trigger();}),j.ShowErrors([m.Create("style","margin-top:1em;")],z.view)]);}return o.Render(q.Curried3(w),o.Run(function(x){var y;r.Start((y=null,r.Delay(function(){return r.Bind((new t.New()).Async("HwProj2:HwProj2.Server.LoginUser:-526035305",[x]),function(){a.location.reload();return r.Return(null);});})),null);},o.WithSubmit(u.op_LessMultiplyGreater(u.op_LessMultiplyGreater(o.Return(function(x){return function(y){return{Email:x,Password:y};};}),v.IsNotEmpty("Enter an username",o.Yield(""))),v.IsNotEmpty("Enter a password",o.Yield(""))))));};c.LogOutUser=function(){var w;r.Start((w=null,r.Delay(function(){return r.Bind((new t.New()).Async("HwProj2:HwProj2.Server.LogoutUser:-829366048",[]),function(){a.location.href="/";return r.Return(null);});})),null);};d.MenuBarLogged$33$27=q.Curried3(function(w,x,y){return c.LogOutUser();});}());
